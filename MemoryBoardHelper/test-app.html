<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Board Helper - Test System</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        :root {
            --primary-color: #4a9eff;
            --primary-dark: #0d4fff;
            --secondary-color: #404040;
            --background-color: #1a1a1a;
            --surface-color: #2a2a2a;
            --surface-elevated: #3a3a3a;
            --text-color: #e0e0e0;
            --text-muted: #888;
            --border-color: #3a3a3a;
            --error-color: #ff4444;
            --success-color: #44ff88;
            --warning-color: #ffaa44;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
            vertical-align: middle;
            user-select: none;
        }

        /* Header */
        .header {
            background-color: var(--surface-color);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title h1 {
            color: #ffffff;
            font-size: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: var(--text-muted);
            display: inline-block;
            animation: pulse 2s infinite;
        }

        .status-indicator.ready {
            background-color: var(--success-color);
            animation: none;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        #statusText {
            color: var(--text-muted);
            font-size: 14px;
        }

        /* Main Layout */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* Test Panel */
        .test-panel {
            width: 400px;
            background-color: var(--surface-color);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .test-controls {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .control-group {
            margin-bottom: 15px;
        }

        .control-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .control-group input {
            width: 100%;
            padding: 8px;
            background-color: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            font-size: 14px;
        }

        .control-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: #ffffff;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: var(--surface-elevated);
        }

        /* Test Statistics */
        .test-stats {
            padding: 15px;
            background-color: var(--background-color);
            border-bottom: 1px solid var(--border-color);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 10px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .stat-item.passed .stat-value {
            color: var(--success-color);
        }

        .stat-item.failed .stat-value {
            color: var(--error-color);
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background-color: var(--surface-elevated);
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s ease;
        }

        #autoTestButtons {
            display: none;
        }

        /* Test Categories */
        .test-categories {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
        }

        .test-category {
            margin-bottom: 15px;
        }

        .category-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            background-color: var(--surface-elevated);
            cursor: pointer;
            user-select: none;
        }

        .category-header:hover {
            background-color: #454545;
        }

        .category-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            font-size: 14px;
        }

        .category-content {
            padding: 5px;
        }

        .category-content.collapsed {
            display: none;
        }

        .test-button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            background-color: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--border-color);
            cursor: pointer;
            text-align: left;
            font-size: 13px;
            position: relative;
            transition: all 0.2s ease;
        }

        .test-button:hover {
            border-color: var(--primary-color);
            background-color: var(--surface-elevated);
        }

        .test-button.running {
            border-color: var(--primary-color);
            background-color: rgba(74, 158, 255, 0.1);
        }

        .test-button.success {
            border-color: var(--success-color);
            background-color: rgba(68, 255, 136, 0.1);
        }

        .test-button.error {
            border-color: var(--error-color);
            background-color: rgba(255, 68, 68, 0.1);
        }

        .test-result {
            font-size: 11px;
            margin-top: 5px;
            padding-top: 5px;
            border-top: 1px solid var(--border-color);
        }

        .test-result.success {
            color: var(--success-color);
        }

        .test-result.error {
            color: var(--error-color);
        }

        /* App Frame */
        .app-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .iframe-container {
            flex: 1;
            position: relative;
            background-color: var(--background-color);
        }

        #appFrame {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Log Panel */
        .log-panel {
            height: 200px;
            background-color: var(--surface-color);
            border-top: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
        }

        .log-header {
            padding: 10px 15px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 500;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .log-content {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 12px;
        }

        .log-entry {
            padding: 4px 0;
            line-height: 1.4;
        }

        .log-entry.info {
            color: var(--text-muted);
        }

        .log-entry.success {
            color: var(--success-color);
        }

        .log-entry.error {
            color: var(--error-color);
        }

        .log-entry.warning {
            color: var(--warning-color);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-color);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .test-panel {
                width: 350px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            
            .test-panel {
                width: 100%;
                height: 50%;
                border-right: none;
                border-bottom: 1px solid var(--border-color);
            }

            .log-panel {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-title">
            <h1>
                <span class="material-symbols-outlined">bug_report</span>
                Memory Board Helper - Test System
            </h1>
        </div>
        <div class="header-controls">
            <span class="status-indicator" id="statusIndicator"></span>
            <span id="statusText">Initialisation...</span>
        </div>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Test Panel -->
        <div class="test-panel">
            <!-- Test Controls -->
            <div class="test-controls">
                <div class="control-group">
                    <label for="testDelay">Délai entre tests (ms):</label>
                    <input type="number" id="testDelay" value="1000" min="100" step="100">
                </div>
                
                <!-- Filter Buttons -->
                <div class="control-group">
                    <label>Catégories de tests:</label>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px;">
                        <button class="btn btn-secondary" onclick="runTestsByCategory('vocal')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">mic</span>
                            Vocaux
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('ui')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">touch_app</span>
                            UI
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('storage')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">storage</span>
                            Storage
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('navigation')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">explore</span>
                            Navigation
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('audio')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">volume_up</span>
                            Audio
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('search')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">search</span>
                            Recherche
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('gps')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">location_on</span>
                            GPS
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('weather')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">wb_sunny</span>
                            Météo
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('tracking')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">directions_walk</span>
                            Tracking
                        </button>
                        <button class="btn btn-secondary" onclick="runTestsByCategory('conversation')" style="font-size: 12px; padding: 8px;">
                            <span class="material-symbols-outlined" style="font-size: 16px;">chat</span>
                            Conversation
                        </button>
                    </div>
                </div>
                
                <div class="control-buttons">
                    <button class="btn btn-primary" onclick="runAllTests()">
                        <span class="material-symbols-outlined">play_arrow</span>
                        Tous les tests
                    </button>
                    <button class="btn btn-secondary" onclick="resetTests()">
                        <span class="material-symbols-outlined">refresh</span>
                        Réinitialiser
                    </button>
                    <button class="btn btn-secondary" onclick="reloadApp()">
                        <span class="material-symbols-outlined">refresh</span>
                        Recharger App
                    </button>
                    <button class="btn btn-secondary" onclick="exportTestResults()">
                        <span class="material-symbols-outlined">download</span>
                        Exporter JSON
                    </button>
                </div>
            </div>

            <!-- Test Statistics -->
            <div class="test-stats">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="totalTests">0</div>
                        <div class="stat-label">Total</div>
                    </div>
                    <div class="stat-item passed">
                        <div class="stat-value" id="passedTests">0</div>
                        <div class="stat-label">Réussis</div>
                    </div>
                    <div class="stat-item failed">
                        <div class="stat-value" id="failedTests">0</div>
                        <div class="stat-label">Échoués</div>
                    </div>
                    <div class="stat-item rate">
                        <div class="stat-value" id="successRate">0%</div>
                        <div class="stat-label">Réussite</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-bar-fill" id="progressBar"></div>
                </div>
            </div>

            <div id="autoTestButtons" aria-hidden="true"></div>

            <!-- Test Categories -->
            <div class="test-categories">
                <!-- Task Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('taskTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">task</span>
                            Tests Tâches (14)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="taskTests">
                        <button class="test-button" onclick="runTest('add_task_simple', this)">Ajouter tâche simple</button>
                        <button class="test-button" onclick="runTest('add_task_with_date', this)">Ajouter tâche avec date</button>
                        <button class="test-button" onclick="runTest('add_task_with_time', this)">Ajouter tâche avec heure</button>
                        <button class="test-button" onclick="runTest('add_recursive_task', this)">Ajouter tâche récurrente</button>
                        <button class="test-button" onclick="runTest('complete_task', this)">Compléter tâche</button>
                        <button class="test-button" onclick="runTest('update_task_date', this)">Modifier date tâche</button>
                        <button class="test-button" onclick="runTest('update_task_time', this)">Modifier heure tâche</button>
                        <button class="test-button" onclick="runTest('update_task_recurrence', this)">Modifier récurrence</button>
                        <button class="test-button" onclick="runTest('update_task_type', this)">Modifier type tâche</button>
                        <button class="test-button" onclick="runTest('update_task_priority', this)">Modifier priorité</button>
                        <button class="test-button" onclick="runTest('delete_task', this)">Supprimer tâche</button>
                        <button class="test-button" onclick="runTest('delete_old_tasks', this)">Supprimer anciennes tâches</button>
                        <button class="test-button" onclick="runTest('delete_done_tasks', this)">Supprimer tâches terminées</button>
                        <button class="test-button" onclick="runTest('delete_all_tasks', this)">Supprimer toutes les tâches</button>
                        <button class="test-button" onclick="runTest('search_task', this)">Rechercher tâche</button>
                    </div>
                </div>

                <!-- List Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('listTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">list</span>
                            Tests Listes (4)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="listTests">
                        <button class="test-button" onclick="runTest('add_list', this)">Créer liste</button>
                        <button class="test-button" onclick="runTest('update_list', this)">Ajouter à liste</button>
                        <button class="test-button" onclick="runTest('delete_list', this)">Supprimer liste</button>
                        <button class="test-button" onclick="runTest('delete_all_lists', this)">Supprimer toutes</button>
                    </div>
                </div>

                <!-- Note Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('noteTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">note</span>
                            Tests Notes (4)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="noteTests">
                        <button class="test-button" onclick="runTest('add_note', this)">Créer note</button>
                        <button class="test-button" onclick="runTest('update_note', this)">Modifier note</button>
                        <button class="test-button" onclick="runTest('delete_note', this)">Supprimer note</button>
                        <button class="test-button" onclick="runTest('delete_all_notes', this)">Supprimer toutes</button>
                    </div>
                </div>

                <!-- Navigation Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('navTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">navigation</span>
                            Tests Navigation (17)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="navTests">
                        <button class="test-button" onclick="runTest('nav_time_display', this)">Section affichage heure</button>
                        <button class="test-button" onclick="runTest('nav_voice_interaction', this)">Section interaction vocale</button>
                        <button class="test-button" onclick="runTest('nav_calendar', this)">Section calendrier</button>
                        <button class="test-button" onclick="runTest('nav_notes', this)">Section notes</button>
                        <button class="test-button" onclick="runTest('nav_lists', this)">Section listes</button>
                        <button class="test-button" onclick="runTest('nav_quick_commands', this)">Section commandes rapides</button>
                        <button class="test-button" onclick="runTest('toggle_voice_section', this)">Masquer/Afficher vocal</button>
                        <button class="test-button" onclick="runTest('toggle_calendar_section', this)">Masquer/Afficher calendrier</button>
                        <button class="test-button" onclick="runTest('toggle_notes_section', this)">Masquer/Afficher notes</button>
                        <button class="test-button" onclick="runTest('toggle_lists_section', this)">Masquer/Afficher listes</button>
                        <button class="test-button" onclick="runTest('toggle_commands_section', this)">Masquer/Afficher commandes</button>
                        <button class="test-button" onclick="runTest('calendar_today', this)">Calendrier aujourd'hui</button>
                        <button class="test-button" onclick="runTest('calendar_prev', this)">Calendrier précédent</button>
                        <button class="test-button" onclick="runTest('calendar_next', this)">Calendrier suivant</button>
                        <button class="test-button" onclick="runTest('calendar_view_week', this)">Vue semaine</button>
                        <button class="test-button" onclick="runTest('calendar_view_day', this)">Vue jour</button>
                        <button class="test-button" onclick="runTest('calendar_view_month', this)">Vue mois</button>
                    </div>
                </div>

                <!-- UI Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('uiTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">dashboard</span>
                            Tests Interface (8)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="uiTests">
                        <button class="test-button" onclick="runTest('open_task_modal', this)">Ouvrir modal tâche</button>
                        <button class="test-button" onclick="runTest('close_task_modal', this)">Fermer modal</button>
                        <button class="test-button" onclick="runTest('open_settings_modal', this)">Ouvrir paramètres</button>
                        <button class="test-button" onclick="runTest('close_settings_modal', this)">Fermer paramètres</button>
                        <button class="test-button" onclick="runTest('toggle_emergency_panel', this)">Toggle urgence</button>
                        <button class="test-button" onclick="runTest('toggle_listening_mode', this)">Toggle mode écoute</button>
                        <button class="test-button" onclick="runTest('check_alarm_system', this)">Vérifier système alarme</button>
                        <button class="test-button" onclick="runTest('check_calendar_render', this)">Rendu calendrier</button>
                    </div>
                </div>

                <!-- Storage Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('storageTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">storage</span>
                            Tests Stockage (3)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="storageTests">
                        <button class="test-button" onclick="runTest('check_indexeddb', this)">Vérifier IndexedDB</button>
                        <button class="test-button" onclick="runTest('check_localstorage', this)">Vérifier localStorage</button>
                        <button class="test-button" onclick="runTest('data_persistence', this)">Persistance données</button>
                    </div>
                </div>

                <!-- Audio/Sound System Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('audioTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">volume_up</span>
                            Système Audio (10)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="audioTests">
                        <button class="test-button" onclick="runTest('audio_sound_manager_loaded', this)">SoundManager chargé</button>
                        <button class="test-button" onclick="runTest('audio_play_task_add', this)">Son: Ajouter tâche</button>
                        <button class="test-button" onclick="runTest('audio_play_task_complete', this)">Son: Compléter tâche</button>
                        <button class="test-button" onclick="runTest('audio_play_task_delete', this)">Son: Supprimer tâche</button>
                        <button class="test-button" onclick="runTest('audio_volume_control', this)">Contrôle volume</button>
                        <button class="test-button" onclick="runTest('audio_enable_disable', this)">Activation/Désactivation</button>
                        <button class="test-button" onclick="runTest('audio_haptic_available', this)">Haptique disponible</button>
                        <button class="test-button" onclick="runTest('audio_repetition_detection', this)">Détection répétition</button>
                        <button class="test-button" onclick="runTest('audio_settings_persistence', this)">Persistance paramètres</button>
                        <button class="test-button" onclick="runTest('audio_all_action_sounds', this)">Tous les sons d'actions</button>
                    </div>
                </div>

                <!-- Vocal Commands Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('vocalTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">mic</span>
                            Commandes Vocales (54)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="vocalTests">
                        <button class="test-button" onclick="runTest('vocal_add_task_simple', this)">Vocal: Ajouter tâche simple</button>
                        <button class="test-button" onclick="runTest('vocal_add_task_with_time', this)">Vocal: Tâche avec heure</button>
                        <button class="test-button" onclick="runTest('vocal_add_recurring_task', this)">Vocal: Tâche récurrente</button>
                        <button class="test-button" onclick="runTest('vocal_complete_task', this)">Vocal: Marquer terminé</button>
                        <button class="test-button" onclick="runTest('vocal_delete_task', this)">Vocal: Supprimer tâche</button>
                        <button class="test-button" onclick="runTest('vocal_move_task', this)">Vocal: Déplacer tâche</button>
                        <button class="test-button" onclick="runTest('vocal_question_when', this)">Vocal: Question "Quand"</button>
                        <button class="test-button" onclick="runTest('vocal_question_what', this)">Vocal: Question "Quoi"</button>
                        <button class="test-button" onclick="runTest('vocal_call_contact', this)">Vocal: Appeler contact</button>
                        <button class="test-button" onclick="runTest('vocal_navigation_calendar', this)">Vocal: Navigation calendrier</button>
                        <button class="test-button" onclick="runTest('vocal_navigation_notes', this)">Vocal: Navigation notes</button>
                        <button class="test-button" onclick="runTest('vocal_navigation_lists', this)">Vocal: Navigation listes</button>
                        <button class="test-button" onclick="runTest('vocal_medication_daily', this)">Vocal: Médicament quotidien</button>
                        <button class="test-button" onclick="runTest('vocal_medication_multiple', this)">Vocal: Médicament 3x/jour</button>
                        <button class="test-button" onclick="runTest('vocal_appointment_dentist', this)">Vocal: RDV dentiste</button>
                        <button class="test-button" onclick="runTest('vocal_create_list', this)">Vocal: Créer liste</button>
                        <button class="test-button" onclick="runTest('vocal_list_with_items', this)">Vocal: Liste avec items</button>
                        <button class="test-button" onclick="runTest('vocal_add_to_list', this)">Vocal: Ajouter à liste</button>
                        <button class="test-button" onclick="runTest('vocal_create_note', this)">Vocal: Créer note</button>
                        <button class="test-button" onclick="runTest('vocal_take_note', this)">Vocal: Prends note que</button>
                        <button class="test-button" onclick="runTest('vocal_update_note', this)">Vocal: Compléter note</button>
                        <button class="test-button" onclick="runTest('vocal_mark_complete', this)">Vocal: Marquer terminé</button>
                        <button class="test-button" onclick="runTest('vocal_search_week_tasks', this)">Vocal: Chercher tâches semaine</button>
                        <button class="test-button" onclick="runTest('vocal_show_today_tasks', this)">Vocal: Tâches du jour</button>
                        <button class="test-button" onclick="runTest('vocal_recurring_vitamins', this)">Vocal: Vitamines quotidiennes</button>
                        <button class="test-button" onclick="runTest('vocal_recurring_trash', this)">Vocal: Poubelles hebdo</button>
                        <button class="test-button" onclick="runTest('vocal_recurring_monthly', this)">Vocal: RDV mensuel</button>
                        <button class="test-button" onclick="runTest('vocal_question_time', this)">Vocal: Quelle heure</button>
                        <button class="test-button" onclick="runTest('vocal_question_date', this)">Vocal: Quelle date</button>
                        <button class="test-button" onclick="runTest('vocal_question_day', this)">Vocal: Quel jour</button>
                        <button class="test-button" onclick="runTest('vocal_nav_settings', this)">Vocal: Paramètres</button>
                        <button class="test-button" onclick="runTest('vocal_call_emergency', this)">Vocal: Urgences</button>
                        <button class="test-button" onclick="runTest('vocal_call_mom', this)">Vocal: Appeler maman</button>
                        <button class="test-button" onclick="runTest('vocal_undo_last', this)">Vocal: Annuler dernière</button>
                        <button class="test-button" onclick="runTest('vocal_undo_that', this)">Vocal: Défais ça</button>
                        <button class="test-button" onclick="runTest('vocal_dont_forget', this)">Vocal: N'oublie pas</button>
                        <button class="test-button" onclick="runTest('vocal_medication_meals', this)">Vocal: Médicament repas</button>
                        <button class="test-button" onclick="runTest('vocal_medication_weekly', this)">Vocal: Vitamine hebdo</button>
                        <button class="test-button" onclick="runTest('vocal_appointment_specific', this)">Vocal: RDV date précise</button>
                        <button class="test-button" onclick="runTest('vocal_change_date', this)">Vocal: Changer date</button>
                        <button class="test-button" onclick="runTest('vocal_move_appointment', this)">Vocal: Déplacer RDV</button>
                        <button class="test-button" onclick="runTest('vocal_list_enumeration', this)">Vocal: Énumération simple</button>
                        <button class="test-button" onclick="runTest('vocal_shopping_list', this)">Vocal: Liste courses items</button>
                        <button class="test-button" onclick="runTest('vocal_note_wifi', this)">Vocal: Note code WiFi</button>
                        <button class="test-button" onclick="runTest('vocal_search_appointments', this)">Vocal: Chercher RDV</button>
                        <button class="test-button" onclick="runTest('vocal_when_appointment', this)">Vocal: C'est quand mon RDV</button>
                        <button class="test-button" onclick="runTest('vocal_delete_old_tasks', this)">Vocal: Supprimer anciennes</button>
                        <button class="test-button" onclick="runTest('vocal_delete_done_tasks', this)">Vocal: Supprimer terminées</button>
                        <button class="test-button" onclick="runTest('vocal_delete_all_tasks', this)">Vocal: Supprimer toutes</button>
                        <button class="test-button" onclick="runTest('vocal_delete_all_lists', this)">Vocal: Supprimer toutes listes</button>
                        <button class="test-button" onclick="runTest('vocal_delete_all_notes', this)">Vocal: Supprimer toutes notes</button>
                        <button class="test-button" onclick="runTest('vocal_greeting', this)">Vocal: Bonjour</button>
                        <button class="test-button" onclick="runTest('vocal_dark_matter', this)">Vocal: Matière noire</button>
                        <button class="test-button" onclick="runTest('vocal_thank_you', this)">Vocal: Merci</button>
                    </div>
                </div>

                <!-- Web Search Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('searchTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">search</span>
                            Recherche Web (9)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="searchTests">
                        <button class="test-button" onclick="runTest('vocal_search_web_simple', this)">Vocal: Recherche simple</button>
                        <button class="test-button" onclick="runTest('vocal_search_web_restaurants', this)">Vocal: Recherche restaurants</button>
                        <button class="test-button" onclick="runTest('vocal_search_web_weather', this)">Vocal: Recherche météo</button>
                        <button class="test-button" onclick="runTest('vocal_search_web_question', this)">Vocal: Question recherche</button>
                        <button class="test-button" onclick="runTest('vocal_search_recipe', this)">Vocal: Recherche recette</button>
                        <button class="test-button" onclick="runTest('vocal_search_movie', this)">Vocal: Recherche film</button>
                        <button class="test-button" onclick="runTest('vocal_search_news', this)">Vocal: Recherche actualités</button>
                        <button class="test-button" onclick="runTest('vocal_search_health', this)">Vocal: Recherche santé</button>
                        <button class="test-button" onclick="runTest('vocal_search_travel', this)">Vocal: Recherche voyage</button>
                    </div>
                </div>

                <!-- GPS Navigation Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('gpsTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">location_on</span>
                            Navigation GPS (10)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="gpsTests">
                        <button class="test-button" onclick="runTest('vocal_gps_coords_simple', this)">Vocal: GPS coordonnées simples</button>
                        <button class="test-button" onclick="runTest('vocal_gps_coords_named', this)">Vocal: GPS coords avec nom</button>
                        <button class="test-button" onclick="runTest('vocal_gps_address_simple', this)">Vocal: GPS adresse simple</button>
                        <button class="test-button" onclick="runTest('vocal_gps_address_street', this)">Vocal: GPS adresse complète</button>
                        <button class="test-button" onclick="runTest('vocal_gps_directions', this)">Vocal: Directions GPS</button>
                        <button class="test-button" onclick="runTest('vocal_gps_itinerary', this)">Vocal: Itinéraire GPS</button>
                        <button class="test-button" onclick="runTest('vocal_gps_nearest_pharmacy', this)">Vocal: GPS pharmacie proche</button>
                        <button class="test-button" onclick="runTest('vocal_gps_hospital', this)">Vocal: GPS hôpital</button>
                        <button class="test-button" onclick="runTest('vocal_gps_home', this)">Vocal: GPS domicile</button>
                        <button class="test-button" onclick="runTest('vocal_gps_restaurant', this)">Vocal: GPS restaurant</button>
                    </div>
                </div>

                <!-- Weather Forecast Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('weatherTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">wb_sunny</span>
                            Prévisions Météo (10)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="weatherTests">
                        <button class="test-button" onclick="runTest('vocal_weather_simple', this)">Vocal: Météo simple</button>
                        <button class="test-button" onclick="runTest('vocal_weather_city', this)">Vocal: Météo pour une ville</button>
                        <button class="test-button" onclick="runTest('vocal_weather_forecast_3days', this)">Vocal: Prévisions 3 jours</button>
                        <button class="test-button" onclick="runTest('vocal_weather_forecast_5days', this)">Vocal: Prévisions 5 jours</button>
                        <button class="test-button" onclick="runTest('vocal_weather_tomorrow', this)">Vocal: Météo demain</button>
                        <button class="test-button" onclick="runTest('vocal_weather_temperature', this)">Vocal: Température ville</button>
                        <button class="test-button" onclick="runTest('vocal_weather_weekend', this)">Vocal: Météo weekend</button>
                        <button class="test-button" onclick="runTest('vocal_weather_rain', this)">Vocal: Va-t-il pleuvoir</button>
                        <button class="test-button" onclick="runTest('vocal_weather_sunny', this)">Vocal: Temps ensoleillé</button>
                        <button class="test-button" onclick="runTest('vocal_weather_wind', this)">Vocal: Y a-t-il du vent</button>
                    </div>
                </div>

                <!-- Activity Tracking Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('trackingTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">directions_walk</span>
                            Suivi d'Activité (6)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="trackingTests">
                        <button class="test-button" onclick="runTest('vocal_toggle_tracking', this)">Vocal: Activer/Désactiver suivi</button>
                        <button class="test-button" onclick="runTest('vocal_stop_activity', this)">Vocal: Arrêter activité</button>
                        <button class="test-button" onclick="runTest('vocal_reset_activity', this)">Vocal: Réinitialiser parcours</button>
                        <button class="test-button" onclick="runTest('vocal_activity_stats', this)">Vocal: Statistiques activités</button>
                        <button class="test-button" onclick="runTest('vocal_show_activity_paths', this)">Vocal: Afficher parcours</button>
                        <button class="test-button" onclick="runTest('vocal_activity_distance', this)">Vocal: Distance parcourue</button>
                    </div>
                </div>

                <!-- Conversation Tests -->
                <div class="test-category">
                    <div class="category-header" onclick="toggleSection('conversationTests')">
                        <span class="category-title">
                            <span class="material-symbols-outlined">chat</span>
                            Mode Conversation (10)
                        </span>
                        <span class="material-symbols-outlined">expand_less</span>
                    </div>
                    <div class="category-content" id="conversationTests">
                        <button class="test-button" onclick="runTest('vocal_conversation_hello', this)">Vocal: Conversation - Salut</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_joke', this)">Vocal: Conversation - Blague</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_explain', this)">Vocal: Conversation - Explication</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_advice', this)">Vocal: Conversation - Conseil</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_story', this)">Vocal: Conversation - Histoire</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_philosophy', this)">Vocal: Conversation - Philosophie</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_compliment', this)">Vocal: Conversation - Compliment</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_mood', this)">Vocal: Conversation - Humeur</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_help', this)">Vocal: Conversation - Aide</button>
                        <button class="test-button" onclick="runTest('vocal_conversation_facts', this)">Vocal: Conversation - Faits</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- App Container -->
        <div class="app-container">
            <div class="iframe-container">
                <iframe id="appFrame" src="index.html"></iframe>
            </div>
            
            <!-- Log Panel -->
            <div class="log-panel">
                <div class="log-header">
                    <span class="material-symbols-outlined">terminal</span>
                    Log des tests
                </div>
                <div class="log-content" id="testLog"></div>
            </div>
        </div>
    </div>

    <script src="test-app.js"></script>
</body>
</html>
